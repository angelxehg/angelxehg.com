---
title: Djangofire
date: 2021-05-22
image: ../images/djangofire.png
caption: Demostración de Firebase Auth en una API REST
stack: ["Firebase", "Django", "React"]
published: true
---

<CreateLink from="Firebase"/> nos ofrece una gran variedad de servicios y funcionalidades para implementar en nuestras aplicaciones, las cuales abarcan desde el desarrollo hasta la implementación y el crecimiento de nuestras aplicaciones.

Uno de los servicios más populares es <CreateLink from="Firebase" extend={{
  title: "Firestore",
  href: "https://firebase.google.com/docs/firestore"
}}/>, el cual nos ofrece una base de datos NoSQL rápida, confiable y asequible. Sin embargo, existen ocasiones en las que necesitaremos de utilizar una base de datos relacional, ya sea por los requerimientos de desarrollo, o para integrar un backend o una API *legacy*. Para este propósito Firebase nos permite generar un token JWT, con el cual podemos autenticar a nuestros usuarios en nuestras API REST.

## La idea

El propósito principal de este proyecto fue aplicar este concepto con una PWA, con la cual implementaría el Inicio de sesión de Google, y que esta identidad se pueda usar con una API creada con <CreateLink from="Django"/>. Las funciones principales son:

- PWA hecha con React y soporte Offline
- Inicio de sesión con Google
- Validación de token JWT de Firebase

## Validando JWT de terceros

En muchos proyectos de la Universidad habia utilizado autenticación con JWT, sim embargo nunca me detuve a pensar que era exactamente JWT. Y me sorprendí al descubrir que un Token JWT funciona de manera similar a una clave SSH: Un JWT puede ser leido por cualquier aplicación, y así leer la información o *payload* que este contiene (regularmente algunos datos básicos del usuario, y un tiempo de expiración). Pero lo interesante es que contiene una firma pública, mediante la cual se puede validar la autenticidad del Token. Esto solo se puede hacer conociendo la clave con la que se firmó.

Sim embargo para validar un token de Firebase se requieren algunos pasos adicionales, como generar una clave privada, instalar algunas librerías en el proyecto de Django, y utilizar la clave privada de manera segura. En este <CreateLink from="Dev.to" extend={{
  title: "artículo de dev.to",
  href: "https://dev.to/angelxehg/usando-firebase-para-autenticar-en-django-rest-framework-n1b"
}}/> describo detalladamente como realicé este proyecto

## Recursos y referencias

- <CreateLink from="Dev.to" extend={{
  title: "Guía rápida para autenticar en Django REST Framework usando Firebase Auth",
  href: "https://dev.to/angelxehg/usando-firebase-para-autenticar-en-django-rest-framework-n1b"
}}/>
- <CreateLink from="Web" extend={{
  title: "JSON Web Tokens",
  href: "https://jwt.io/"
}}/>
- <CreateLink from="Netlify" extend={{
  title: "Demostración PWA",
  href: "https://djangofire.netlify.app"
}}/>
- <CreateLink from="GitHub" extend={{
  title: "Código fuente PWA",
  href: "https://github.com/angelxehg/djangofire-pwa"
}}/>
- <CreateLink from="GitHub" extend={{
  title: "Código fuente API",
  href: "https://github.com/angelxehg/djangofire-api"
}}/>
- <CreateLink from="Django" extend={{
  title: "Librería drf-firebase-auth",
  href: "https://pypi.org/project/drf-firebase-auth/"
}}/>
